# 📄 상태 다이어그램 문서

## ✅ 개요

이 문서는 e-커머스 주문 서비스 내 주요 기능의 상태 흐름을 설명합니다. 특히 주문과 쿠폰의 상태 전이 과정을 **상태 다이어그램 형식으로 서술**하며, 복잡한 로직의 일관성을 보장하는 데 목적이 있습니다.

---

## 📌 주문(Order) 상태 다이어그램

```
[시작]
  ↓
[결제 대기 (PENDING)]
  ↓ 결제 시도
[결제 완료 (PAID)]
  ↓ 배송 처리
[배송 중 (SHIPPING)]
  ↓ 수령 완료
[배송 완료 (DELIVERED)]
  ↓ 문제 발생 시
[환불 요청됨 (REFUND_REQUESTED)]
  ↓ 환불 승인
[환불 완료 (REFUNDED)]
```

### 설명

-   **PENDING**: 주문이 생성되었으나 결제가 아직 이뤄지지 않음
-   **PAID**: 결제가 성공적으로 처리됨
-   **SHIPPING**: 물류 시스템으로 인계되어 배송 중
-   **DELIVERED**: 고객이 상품을 수령함
-   **REFUND_REQUESTED**: 사용자가 환불을 요청함
-   **REFUNDED**: 환불이 완료됨

---

## 📌 쿠폰(Coupon) 상태 다이어그램

```
[시작]
  ↓ 발급 요청
[발급됨 (ISSUED)]
  ↓ 사용됨
[사용 완료 (USED)]
```

### 설명

-   **ISSUED**: 유저에게 쿠폰이 발급된 상태
-   **USED**: 주문 시 쿠폰이 사용됨

---

## 확장 가능 상태 (고급 기능 도입 시)

-   **주문 상태**: `CANCELLED`, `FAILED_PAYMENT`, `EXPIRED` 등 도입 가능
-   **쿠폰 상태**: `EXPIRED`, `INVALID` 상태 구분 추가 가능

---

## 참고 문서

-   [요구사항 분석 문서](./01-requirements.md)
-   [시퀀스 다이어그램 문서](./04-sequence.md)
